function homeySetCookie(e,a,t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3);var s="expires="+r.toUTCString();document.cookie=e+"="+a+";"+s+";path=/"}function homeyGetCookie(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var s=t[r];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(a))return s.substring(a.length,s.length)}return""}function homey_init_add_favorite(e,a,t){jQuery(".add_fav").on("click",function(r){r.preventDefault();var s=jQuery(this),n=jQuery(this).attr("data-listid");return add_to_favorite(e,n,s,a,t),!1})}function homey_init_remove_favorite(e,a,t){jQuery(".remove_fav").on("click",function(){var r=jQuery(this),s=jQuery(this).attr("data-listid");add_to_favorite(e,s,r,a,t);r.parents("tr").remove()})}function add_to_favorite(ajaxurl,listID,curnt,userID,is_singular_listing){0===parseInt(userID,10)||null==userID?jQuery("#modal-login").modal("show"):jQuery.ajax({type:"post",url:ajaxurl,dataType:"json",data:{action:"homey_add_to_favorite",listing_id:listID},beforeSend:function(){curnt.append('<i class="fa fa-spinner fa-pulse fa-fw"></i>')},success:function(e){e.added?(curnt.children("i").remove(),curnt.text(e.response),"yes"==is_singular_listing&&curnt.prepend('<i class="fa fa-heart" aria-hidden="true"></i> ')):(curnt.children("i").remove(),curnt.text(e.response),"yes"==is_singular_listing&&curnt.prepend('<i class="fa fa-heart-o" aria-hidden="true"></i> '))},complete:function(){},error:function(xhr,status,error){var err=eval("("+xhr.responseText+")");console.log(err.Message)}})}function add_to_compare(e,a,t,r,s,n){if(jQuery("a.compare-btn").attr("href",e+"?ids="+homeyGetCookie("homey_compare_listings")),(s=homeyGetCookie("homey_compare_listings")).length>0&&jQuery(".compare-property-label").fadeIn(1e3),s&&s.length){if((s=s.split(",")).length){for(var i=0;i<s.length;i++)jQuery('.homey_compare[data-listing_id="'+s[i]+'"]').text(t);jQuery(".compare-property-label").find(".compare-count").html(s.length)}}else s=[];jQuery(".homey_compare").on("click",function(s){s.preventDefault();var i=homeyGetCookie("homey_compare_listings");i=i&&i.length?i.split(","):[];var o=jQuery(this).data("listing_id"),l=i.indexOf(o.toString()),c=jQuery(this).parents(".item-wrap").find(".item-media-thumb img").attr("src");return-1==l?i.length>=n?alert(r):(jQuery(".compare-wrap").append('<div class="compare-item remove-'+o+'"><a href="" class="remove-compare remove-icon" data-listing_id="'+o+'"><i class="fa fa-trash-o" aria-hidden="true"></i></a><img class="img-responsive" src="'+c+'" width="450" height="300" alt="Thumb"></div>'),jQuery(this).text(t),i.push(o.toString()),homeySetCookie("homey_compare_listings",i.join(","),30),jQuery(".compare-property-label").find(".compare-count").html(i.length),jQuery("a.compare-btn").attr("href",e+"?ids="+homeyGetCookie("homey_compare_listings")),jQuery(".compare-property-label").fadeIn(1e3),jQuery(this).toggleClass("active"),jQuery(".compare-property-active").addClass("compare-property-active-push-toleft"),jQuery("#compare-property-panel").addClass("compare-property-panel-open"),remove_from_compare(i,a,t)):(jQuery("div.remove-"+o).remove(),jQuery(this).text(a),i.splice(l,1),homeySetCookie("homey_compare_listings",i.join(","),30),jQuery(".compare-property-label").find(".compare-count").html(i.length),jQuery("a.compare-btn").attr("href",e+"?ids="+homeyGetCookie("homey_compare_listings")),i.length>0?(jQuery(".compare-property-label").fadeIn(1e3),jQuery(this).toggleClass("active"),jQuery(".compare-property-active").addClass("compare-property-active-push-toleft"),jQuery("#compare-property-panel").addClass("compare-property-panel-open")):jQuery(".compare-property-label").fadeOut(1e3)),!1})}function remove_from_compare(e,a,t){jQuery(".remove-compare").on("click",function(r){if(r.preventDefault(),"object"==typeof e&&(e=e.toString()),e&&e.length){if((e=e.split(",")).length){for(var s=0;s<e.length;s++)jQuery('.homey_compare[data-listing_id="'+e[s]+'"]').text(t);jQuery(".compare-property-label").find(".compare-count").html(e.length)}}else e=[];var n=jQuery(this).data("listing_id"),i=e.indexOf(n.toString());e.splice(i,1),homeySetCookie("homey_compare_listings",e.join(","),30),jQuery(".compare-property-label").find(".compare-count").html(e.length),jQuery(".compare-"+n).text(a),jQuery(this).parents(".compare-item").remove()})}!function(e){"use strict";var a,t,r=1,s=0,n=0,i=0,o=0,l=HOMEY_ajax_vars.homey_is_dashboard,c=HOMEY_ajax_vars.homey_calendar_months,d=(HOMEY_ajax_vars.homey_date_format,HOMEY_ajax_vars.search_position),h=(HOMEY_ajax_vars.geo_country_limit,HOMEY_ajax_vars.geocomplete_country,HOMEY_ajax_vars.replytocom),p=HOMEY_ajax_vars.compare_url,m=HOMEY_ajax_vars.add_compare,u=HOMEY_ajax_vars.remove_compare,v=HOMEY_ajax_vars.compare_limit,g=HOMEY_ajax_vars.homey_is_transparent,f=HOMEY_ajax_vars.homey_tansparent,y=HOMEY_ajax_vars.homey_is_top_header,_=HOMEY_ajax_vars.simple_logo,b=HOMEY_ajax_vars.mobile_logo,w=HOMEY_ajax_vars.retina_logo,C=HOMEY_ajax_vars.custom_logo_splash,k=HOMEY_ajax_vars.retina_logo_splash,j=HOMEY_ajax_vars.retina_logo_mobile,x=HOMEY_ajax_vars.custom_logo_mobile_splash,H=HOMEY_ajax_vars.retina_logo_mobile_splash,Q=2,O=e(window),I=(e("body").innerWidth(),e(".nav-area")),M=e(".header-nav"),S=(e(".main-content-area"),e("#section-body")),T=e("#homey-main-search"),D=T.innerHeight(),E=e("#homey_nav_sticky"),Y=E.innerHeight(),A=e(".dashboard-page-title"),U=e(".footer-area"),z=(e(".user-dashboard-left"),e(".top-banner-wrap ").innerHeight()),B=I.innerHeight(),G=(I.outerHeight(),A.innerHeight()),F=(U.innerHeight(),e(".header-search").innerHeight(),e(".listing-nav").innerHeight()),L=null,W=HOMEY_ajax_vars.homey_is_rtl;W="yes"==W,null==F&&(F=0);var P=B,R=20;"under_banner"==d&&(P=B+z,R=0);var N=!1;/Android|webOS|iPhone|iPad|iPod|tablet|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(N=!0),console.log(N);var q=!1;/Android|Opera Mini/i.test(navigator.userAgent)&&(q=!0),console.log(q);var V=E.data("sticky"),J=T.data("sticky");1===V&&(s=Y),1===J&&(s=D),1===V&&1===J&&(s=Y+D);e(".mobile-main-nav").on("click",function(){e("#user-nav").removeClass("in")}),e(".user-mobile-nav").on("click",function(){e("#mobile-nav").removeClass("in")}),e(".homey-matchHeight-needed .homey-matchHeight").length&&(e(".homey-matchHeight").matchHeight({remove:!0}),e(".homey-matchHeight").matchHeight()),e(".comments-form").length>0&&(e(".comments-form .comment-respond").removeAttr("id","respond"),""!=h&&e("html, body").animate({scrollTop:e("#comments-form").offset().top-320},1e3)),e('[data-toggle="popover"]').popover({trigger:"hover",html:!0}),e('[data-toggle="tooltip"]').tooltip();var K=e(".selectpicker");K.length>0&&K.selectpicker({dropupAuto:!1});var X,Z;/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);function $(){if(e(window).width()>991){var a=e(".container"),t=e(".header-type-1,.header-type-1"),r=a.innerWidth(),s=O.width(),n=a.offset();e(".navi ul li").hasClass("homey-megamenu")&&e(".navi ul .homey-megamenu").each(function(){e("> .sub-menu",this).wrap("<div class='homey-megamenu-wrap'></div>");var a=e(this).offset();t.children(".container").length>0?e("> .homey-megamenu-wrap",this).css({width:r,left:-(a.left-n.left)}):e("> .homey-megamenu-wrap",this).css({width:s,left:-a.left})})}}if(e(".navi ul li").each(function(){e(this).has("ul").not(".homey-megamenu li").addClass("has-child")}),e(".navi ul .has-child").on({mouseenter:function(){e(this).addClass("active")},mouseleave:function(){e(this).removeClass("active")}}),$(),O.on("resize",function(){$()}),O.bind("load",function(){$()}),e(".account-loggedin").on({mouseenter:function(){e(this).addClass("active")},mouseleave:function(){e(this).removeClass("active")}}),X=".main-nav-dropdown",Z=e(".main-nav").html(),e(X).html(Z),e(X+" ul li").each(function(){e(this).has("ul").addClass("has-child")}),e(X+" ul .has-child").append('<span class="expand-me"></span>'),e(X+" .expand-me").on("click",function(){var a=e(this).parent("li");1==a.hasClass("active")?(a.removeClass("active"),a.children("ul").slideUp()):(a.addClass("active"),a.children("ul").slideDown())}),e(".nav-trigger").on("click",function(){e(this).hasClass("mobile-open")?e(this).removeClass("mobile-open"):e(this).addClass("mobile-open")}),matchMedia){var ee=window.matchMedia("(max-width: 991px)");ee.addListener(ae),ae(ee)}function ae(a){a.matches?(e(".dashboard-page-title").css({top:60}),e(".user-dashboard-right").css({"padding-top":131})):(e(".dashboard-sidebar").css({top:B+G+34}),e(".user-dashboard-left").css({top:B}),e(".user-dashboard-right").css({"padding-top":B+G+4}),e(".dashboard-page-title").css({top:B}))}function te(){if(!(O.width()>991))return!1;var a=e(".dashboard-view-block"),t=e(".dashboard-content-area");if(a.length>0){var r=a.height(),s=a.offset().top;s=s-dashboadr_header_height-B-30}t.scroll(function(){if(!(O.width()>991))return!1;if(a.length>0){var e=t.scrollTop();if(s<e){a.css("top",e-s);var n=a.offset().top+r;if(sticky_content.offset().top+sticky_content.height()<n){var i=sticky_content.height()-r;a.css("top",i)}}else a.css("top","0")}}),O.resize(function(){a.length>0&&(r=a.height())})}te(),O.on("resize",function(){te()}),2==window.devicePixelRatio&&f&&(""!=k&&(C=k),""!=w&&(_=w),""!=j&&(b=j),""!=H&&(x=H)),N||1==l||(1===V&&1===J?e(window).scroll(function(){var a=e(window).scrollTop(),t=M.outerHeight(),r=e("#wpadminbar").height();"null"==r&&(r=0),a>=B?(I.addClass("sticky-nav-area"),I.css("top",r),a>=B+20&&(I.addClass("homey-in-view"),!y&&g||S.css("padding-top",t))):(I.removeClass("sticky-nav-area"),I.removeAttr("style"),a<=B+20&&I.removeClass("homey-in-view"),!y&&g||S.css("padding-top",0))}):1===V?e(window).scroll(function(){var a=e(window).scrollTop(),t=e("#wpadminbar").height(),r=M.outerHeight();0!==V&&(f&&(e(".homey_logo img").attr("src",_),e(".mobile-logo img").attr("src",b)),"null"==t&&(t=0),a>B?(M.addClass("sticky-nav-area"),M.css("top",t),f&&I.removeClass("transparent-header"),a>=B+20&&(M.addClass("homey-in-view"),!y&&g||S.css("padding-top",r))):(M.removeClass("sticky-nav-area"),M.removeAttr("style"),f&&(I.addClass("transparent-header"),ce(),e(".homey_logo img").attr("src",C),e(".mobile-logo  img").attr("src",x)),a<=B+20&&M.removeClass("homey-in-view"),!y&&g||S.css("padding-top",0)))}):1===J&&e(window).scroll(function(){var a=e(window).scrollTop(),t=e("#wpadminbar").height(),r=e(".main-search").outerHeight();0!==J&&("null"==t&&(t=0),a>=P?(T.addClass("sticky-search-area"),T.css("top",t),a>=P+R&&(T.addClass("homey-in-view"),!y&&g||S.css("padding-top",r))):(T.removeClass("sticky-search-area"),T.removeAttr("style"),a<=P+20&&T.removeClass("homey-in-view"),!y&&g||S.css("padding-top",0)))})),e(document).ready(function(){null!=(n=e("#wpadminbar").innerHeight())&&(s+=n),e(window).width()<992?e(".homey-sticky-map").theiaStickySidebar({additionalMarginTop:s,updateSidebarHeight:!1}):e(".homey-sticky-map").theiaStickySidebar({additionalMarginTop:s+30,updateSidebarHeight:!1}),e(".homey_sticky").theiaStickySidebar({additionalMarginTop:s+F,minWidth:768,updateSidebarHeight:!1})}),e(document).scroll(function(){var a=e(this).scrollTop();e(".listing-nav").css("top",s),a>200?e(".listing-nav").fadeIn(250):e(".listing-nav").fadeOut(0)}),e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').on("click",function(a){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);(t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length&&(a.preventDefault(),e("html, body").animate({scrollTop:t.offset().top-(s+F)},1e3,"easeOutExpo",function(){}))}}),e('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var a=e;a.target,a.relatedTarget}),e(document).ready(function(){e(".swipebox").swipebox({useCSS:!0,useSVG:!0,initialIndexOnArray:0,hideCloseButtonOnMobile:!1,removeBarsOnMobile:!1,hideBarsDelay:3e3})}),e(document).ready(function(){e(".listing-slider").slick({rtl:W,lazyLoad:"ondemand",slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,asNavFor:".listing-slider-nav"}),e(".listing-slider-nav").slick({rtl:W,lazyLoad:"ondemand",slidesToShow:6,slidesToScroll:1,asNavFor:".listing-slider",dots:!1,focusOnSelect:!0,variableWidth:!0,arrows:!1})}),e(document).ready(function(){e(".listing-slider-variable-width").slick({rtl:W,lazyLoad:"ondemand",infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!0,arrows:!0,adaptiveHeight:!0})}),e(document).ready(function(){e(".header-slider").slick({rtl:W,lazyLoad:"ondemand",infinite:!0,speed:300,slidesToShow:1,arrows:!0,adaptiveHeight:!0})});var re=e(".extended-menu-btn");e(".header-extended-menu");re.on("click",function(){1==e(this).hasClass("active")?(e(this).parents(".header-wrap").find(".header-extended-menu").slideUp().removeClass("menu-open"),e(this).removeClass("active")):(e(this).addClass("active"),e(this).parents(".header-wrap").find(".header-extended-menu").slideDown().addClass("menu-open"))});var se=e(".search-filter-btn");e(".search-filter");se.on("click",function(){1==e(this).hasClass("active")?(e(this).parents("form").find(".search-filter").removeClass("search-filter-open"),e(this).removeClass("active")):(e(this).addClass("active"),e(this).parents("form").find(".search-filter").addClass("search-filter-open"))}),e(".search-reset-btn").on("click",function(a){a.preventDefault();var t=e(this).parents(".search-filter-wrap");e(this).closest("form").find("input[type=text], textarea").val(""),e(this).parents(".half-map-wrap").find("input[type=text], textarea").val(""),e(".search-destination").find("input[type=hidden]").val(""),t.find("select").removeAttr("selected"),t.find("select").selectpicker("val",""),t.find("select").selectpicker("refresh"),t.find("input[type=checkbox]").removeAttr("checked")});var ne,ie,oe=e(".search-filter-mobile-btn");e(".search-filter");function le(){var a=e(window).innerHeight()-B;e(window).width()>=767?e(".half-map-left-wrap, .half-map-right-wrap").css("height",a):(e(".map-on-right .half-map-right-wrap").css("height",a),e(".map-on-right .half-map-left-wrap").css("height","auto"),e(".map-on-left .half-map-right-wrap").css("height",a),e(".map-on-left .half-map-left-wrap").css("height","auto"))}function ce(){var a=e(".transparent-header .header-nav.hidden-sm").innerHeight(),t=e(".transparent-header .header-nav.hidden-md").innerHeight();e(window).width()>=991?e(".transparent-header .header-nav.hidden-sm").css("margin-bottom",-a):e(".transparent-header .header-nav.hidden-md").css("margin-bottom",-t)}function de(){var a=e(window).innerHeight(),t=e(".header-nav.hidden-sm").innerHeight(),r=e(".header-nav.hidden-md").innerHeight();e(window).width()>=767?(e(".top-banner-wrap-fullscreen").css("height",a-t),e(".transparent-header + .top-banner-wrap-fullscreen").css("height",a),e(".top-banner-wrap-fullscreen .slick-list, .top-banner-wrap-fullscreen .header-slider-item").css("height",a-t),e(".transparent-header + .top-banner-wrap-fullscreen .slick-list, .transparent-header + .top-banner-wrap-fullscreen .header-slider-item").css("height",a)):(e(".top-banner-wrap-fullscreen").css("height",a-r),e(".transparent-header + .top-banner-wrap-fullscreen").css("height",a),e(".top-banner-wrap-fullscreen .slick-list, .top-banner-wrap-fullscreen .header-slider-item").css("height",a-r),e(".transparent-header + .top-banner-wrap-fullscreen .slick-list, .transparent-header + .top-banner-wrap-fullscreen .header-slider-item").css("height",a))}function he(a,t,s,n){e("."+t).on("click",function(t){t.preventDefault();var i=c,o=c-1,l=c-2;n?(s?r<o?r+=1:r=i:r>1?r-=1:r=1,e("."+a).hide(),e("."+a).each(function(){parseInt(e(this).attr("data-month"),10)===r&&e(this).fadeIn()})):(s?Q<l?Q+=1:Q=o:Q>3?Q-=1:Q=2,s?(e("."+a).hide(),e("."+a).each(function(){var a=parseInt(e(this).attr("data-month"),10);a!==Q&&a!==Q+1||e(this).fadeIn()})):(e("."+a).hide(),e("."+a).each(function(){var a=parseInt(e(this).attr("data-month"),10);a!==Q&&a!==Q-1||e(this).fadeIn()}))),n?(r==i?e(this).addClass("disabled"):e(".homey-next-month, .listing-cal-next, .search-cal-next").removeClass("disabled"),1==r?e(this).addClass("disabled"):e(".homey-prev-month, .listing-cal-prev, .search-cal-prev").removeClass("disabled")):(Q==o?e(this).addClass("disabled"):e(".homey-next-month, .listing-cal-next, .search-cal-next").removeClass("disabled"),2==Q?e(this).addClass("disabled"):e(".homey-prev-month, .listing-cal-prev, .search-cal-prev").removeClass("disabled"))})}function pe(){var a=e(".availability-section .search-calendar li").innerWidth();e(".availability-section .search-calendar li").css("height",a),e(".availability-section .search-calendar li").css("line-height",a+"px")}function me(e){var a=e.split("-"),t=a[1]+"/"+a[0]+"/"+a[2];return new Date(t).getTime()}function ue(a,t){e(".main-search-calendar-wrap ul li").removeClass("in-between").filter(function(){var r=e(this).data("timestamp");return r>a&&r<t}).addClass("in-between")}oe.on("touchstart",function(){1==e(this).hasClass("active")?(e(this).parents(".search-button").find(".search-filter").removeClass("search-filter-open"),e(this).removeClass("active")):(e(this).addClass("active"),e(this).parents(".search-button").find(".search-filter").addClass("search-filter-open"))}),ne=e(".input-search"),ie=e(".search-auto-complete"),ne.on("keyup",function(){var a=e(this),t=a.val(),r=a.closest("form").find(ie);t.length>3?ie.is(":hidden")&&r.fadeIn(0):r.fadeOut(0)}),e(document).mouseup(function(a){var t=e(".input-search,.search-auto-complete");t.is(a.target)||0!==t.has(a.target).length||ie.fadeOut(0)}),le(),O.on("resize",function(){le()}),ce(),O.on("resize",function(){ce()}),de(),O.on("resize",function(){de()}),e(document).ready(function(){e(".parallax").parallaxBackground({parallaxBgPosition:"center center",parallaxBgRepeat:"no-repeat",parallaxBgSize:"cover",parallaxSpeed:"0.25"})}),e(document).ready(function(){e("#trigger-overlay-booking-form, .overlay-booking-module-close").on("click",function(){e("#overlay-booking-module").toggleClass("open")})}),e(document).ready(function(){e(".main-search .search-banner-mobile, .search-banner-mobile, .half-map-search .search-banner-mobile, .overlay-search-module-close").on("click",function(){e("#overlay-search-advanced-module").toggleClass("open")})}),e(document).ready(function(){e(".side-nav-trigger").on("click",function(){e(this).toggleClass("active"),e(".side-nav-active").toggleClass("side-nav-active-push-toright"),e("#side-nav-panel").toggleClass("side-nav-panel-open")})}),e(document).ready(function(){e(".compare-property-label").on("click",function(){e(this).toggleClass("active"),e(".compare-property-active").addClass("compare-property-active-push-toleft"),e("#compare-property-panel").addClass("compare-property-panel-open")}),e(".close-compare-panel").on("click",function(){e(this).toggleClass("active"),e(".compare-property-active").removeClass("compare-property-active-push-toleft"),e("#compare-property-panel").removeClass("compare-property-panel-open")});var a=homeyGetCookie("homey_compare_listings");add_to_compare(p,m,u,v,a,4),remove_from_compare(a,m,u)}),e("#commentform").length>0&&e("#commentform #submit").addClass("btn btn-primary"),e("ul.comments-list").length>0&&e("ul.comments-list ul").addClass("list-unstyled"),e(".input_date").length>0&&e(".input_date").datepicker(),e(".search-date").length>0&&e(".search-date").datepicker(),he("homey_month_wrap","homey-next-month",!0,!0),he("homey_month_wrap","homey-prev-month",!1,!0),he("single-listing-calendar-wrap","listing-cal-next",!0,!1),he("single-listing-calendar-wrap","listing-cal-prev",!1,!1),he("single-listing-hourly-calendar-wrap","listing-cal-next",!0,!0),he("single-listing-hourly-calendar-wrap","listing-cal-prev",!1,!0),he("main-search-calendar-wrap","search-cal-next",!0,!1),he("main-search-calendar-wrap","search-cal-prev",!1,!1),he("main-search-hourly-calendar-wrap","search-cal-next",!0,!0),he("main-search-hourly-calendar-wrap","search-cal-prev",!1,!0),e(document).ready(function(){e(".search-banner input").on("focus",function(){e(this).prev("label").css("display","block"),e(this).addClass("on-focus")}),e(".search-destination input").on("focus",function(){e(".search-destination .clear-input-btn").css("display","block")}),e(".clear-input-btn, .btn-clear-calendar").on("click",function(a){a.preventDefault(),e(".search-destination label, .search-destination .clear-input-btn").css("display","none"),e(".search-calendar-main").removeClass("depart_active").addClass("arrive_active"),L="arrive",e(".main-search-calendar-wrap ul li").removeClass("in-between to-day from-day selected"),i=0,t=0,e(".search-destination input").removeClass("on-focus"),e(".search-destination input").val("")}),e(".search-destination input").on("focus",function(){e(".search-calendar").css("display","none"),e(".search-guests-wrap").css("display","none")}),e(".search-guests input").on("focus",function(){e(".single-listing-booking-calendar-js, .search-calendar-main, .search-hourly-calendar-main").css("display","none")}),e(".search-hours-range-js").on("click",function(){e(".search-calendar").css("display","none"),e(".search-guests-wrap").css("display","none")}),e(".btn-clear-calendar").on("click",function(){e(".search-date-range input").val(""),e(".search-date-range label").css("display","none"),e(".search-date-range input").removeClass("on-focus")}),e(".guest-apply-btn .btn").on("click",function(){e(".search-guests-wrap").css("display","none")}),e(".main-search-date-range-js input").on("focus",function(){e(".search-calendar-main").css("display","block"),e(".search-calendar-main").addClass("arrive_active"),e(".search-guests-wrap-js").css("display","none"),L=e(this).attr("name"),e(".search-calendar-main").removeClass("arrive_active depart_active").addClass(L+"_active"),e(".search-hourly-calendar-main").css("display","block")});var a,r=0;if(e("div").on("click",function(){if(1==++r){var t=e(this).parent().attr("class");e("input[name='guest']").is(":focus")||e("input[name='guests']").is(":focus")||-1!=t.indexOf("map-search")||-1!=t.indexOf("search-guests")||-1!=t.indexOf("pets-calculator")||(e(".search-guests-wrap-js").css("display","none"),e(".single-form-guests-js").css("display","none"))}a=setInterval(function(){r=0,clearInterval(a)},1e3)}),e(".search-guests-js input").on("focus",function(){e(this).prev("label").css("display","block"),e(this).addClass("on-focus"),e(".search-guests-wrap-js").css("display","block")}),e(".halfmap-search-date-range-js input").on("focus",function(){e(".search-calendar-main").css("display","block"),e(".search-calendar-main").addClass("arrive_active"),e(".search-guests-wrap-js").css("display","none"),L=e(this).attr("name"),e(".search-calendar-main").removeClass("arrive_active depart_active").addClass(L+"_active"),e(".search-hourly-calendar-main").css("display","block")}),!q){document.querySelector(".search-date-range input");document.addEventListener("click",function(a){a.target.closest(".search-date-range input")||a.target.closest(".search-calendar")||(e(".search-calendar-main").css("display","none"),e(".single-listing-booking-calendar-js").css("display","none"))})}}),pe(),O.on("resize",function(){pe()}),e(".main-search-calendar-wrap ul li").on("click",function(){var r=e(this);if(r.hasClass("day-disabled"))return!1;i+=1;var s=r.data("formatted-date");if(t=r.data("timestamp"),"depart"==L&&t>a&&(e(".main-search-calendar-wrap ul").find("li.to-day").removeClass("selected").siblings().removeClass("to-day in-between"),i=2),1==i)a=t,e(".main-search-calendar-wrap ul li").removeClass("to-day from-day selected in-between"),r.addClass("from-day selected"),e(".search-calendar").removeClass("arrive_active").addClass("depart_active"),e('input[name="arrive"]').val(s).triggerHandler("focus"),e('input[name="depart"]').val("").triggerHandler("focus");else if(2==i){o=t,r.addClass("to-day selected"),e(".search-calendar").removeClass("depart_active").addClass("arrive_active");var n=e('input[name="arrive"]').val();(n=me(n))>=me(s)?(a=t,o=0,e(".main-search-calendar-wrap ul li").removeClass("to-day from-day selected in-between"),r.addClass("from-day selected"),e(".search-calendar").removeClass("arrive_active").addClass("depart_active"),e('input[name="arrive"]').val(s),i=1):(ue(a,o),e('input[name="depart"]').val(s),e(".search-calendar").hide(),e(".search-guests-wrap-js").css("display","block"),e('input[name="guest"]').triggerHandler("focus"))}2==i&&(i=0)}),e(".main-search-calendar-wrap ul li").on("hover",function(){var t=e(this).data("timestamp");1==i&&ue(a,t)}),e(".main-search-hourly-calendar-wrap ul li").on("click",function(){var a=e(this);if(a.hasClass("day-disabled"))return!1;var t=a.data("formatted-date");e('input[name="arrive"]').val(t),e(".search-calendar").hide()});function ve(e,a){var t=new Date(e),r=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()),s=parseFloat(t.getUTCDate())+1+parseFloat(a);return r.setDate(s),r}function ge(a,t){var r,s;r=new Date;var n=e("#"+a);n.datepicker({dateFormat:"mm/dd/yy",minDate:r}),n.change(function(){s=new Date(jQuery("#"+a).val()),1,s=ve(jQuery("#"+a).val(),0),jQuery("#"+t).val(""),jQuery("#"+t).removeAttr("disabled"),jQuery("#"+t).datepicker("destroy"),jQuery("#"+t).datepicker({dateFormat:"mm/dd/yy",minDate:s})})}e(".search_adult_plus").on("click",function(a){a.preventDefault(),parseInt(e("#guests").val());var t=parseInt(e(".search_adult_guest").val()),r=parseInt(e(".search_child_guest").val());t++,e(".search_homey_adult").text(t),e(".search_adult_guest").val(t);var s=t+r;e('input[name="guest"]').val(s)}),e(".search_adult_minus").on("click",function(a){a.preventDefault(),parseInt(e("#guests").val());var t=parseInt(e(".search_adult_guest").val()),r=parseInt(e(".search_child_guest").val());if(0!=t){t--,e(".search_homey_adult").text(t),e(".search_adult_guest").val(t);var s=t+r;e('input[name="guest"]').val(s),e(".search_adult_plus").removeAttr("disabled"),e(".search_child_plus").removeAttr("disabled")}}),e(".search_child_plus").on("click",function(a){a.preventDefault(),parseInt(e("#guests").val());var t=parseInt(e(".search_child_guest").val()),r=parseInt(e(".search_adult_guest").val());t++,e(".search_homey_child").text(t),e(".search_child_guest").val(t);var s=t+r;e('input[name="guest"]').val(s)}),e(".search_child_minus").on("click",function(a){a.preventDefault(),parseInt(e("#guests").val());var t=parseInt(e(".search_child_guest").val()),r=parseInt(e(".search_adult_guest").val());if(0!=t){t--,e(".search_homey_child").text(t),e(".search_child_guest").val(t);var s=t+r;e('input[name="guest"]').val(s),e(".search_adult_plus").removeAttr("disabled"),e(".search_child_plus").removeAttr("disabled")}}),e("#sort_listings").on("change",function(){!function(e,a){e=encodeURI(e),a=encodeURI(a);for(var t,r=document.location.search.substr(1).split("&"),s=r.length;s--;)if((t=r[s].split("="))[0]==e){t[1]=a,r[s]=t.join("=");break}s<0&&(r[r.length]=[e,a].join("=")),document.location.search=r.join("&")}("sortby",e(this).val())}),ge("period_start_date","period_end_date"),ge("cus_start_date","cus_end_date")}(jQuery);